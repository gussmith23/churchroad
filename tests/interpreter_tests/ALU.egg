; yosys -q -p "plugin -i churchroad; read_verilog -sv $CHURCHROAD_DIR/tests/interpreter_tests/verilog/ALU.sv; prep -top ALU; pmuxtree; write_lakeroad"
; wire declarations
; $and$../tests/interpreter_tests/verilog/ALU.sv:7$1_Y
(let v0 (Wire "v0" 8))
; $or$../tests/interpreter_tests/verilog/ALU.sv:7$2_Y
(let v1 (Wire "v1" 8))
; a
(let v2 (Wire "v2" 8))
; b
(let v3 (Wire "v3" 8))
; op
(let v4 (Wire "v4" 1))
; out
(let v5 (Wire "v5" 8))

; cells
(union v0 (Op2 (And) v2 v3))
(union v1 (Op2 (Or) v2 v3))
(union v5 (Op3 (Mux) v4 v1 v0))

; inputs
(let a (Var "a" 8))
(union v2 a)
(let b (Var "b" 8))
(union v3 b)
(let op (Var "op" 1))
(union v4 op)

; outputs
(let out v5)

; delete wire expressions
(delete (Wire "v0" 8))
(delete (Wire "v1" 8))
(delete (Wire "v2" 8))
(delete (Wire "v3" 8))
(delete (Wire "v4" 1))
(delete (Wire "v5" 8))
